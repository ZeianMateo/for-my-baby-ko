<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üíñ Our Love Diary</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #ffe4ec, #ffd1e3);
      margin: 0; padding: 0;
    }
    header {
      background-color: #ff94c2;
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header h1 { margin: 0; font-size: 22px; }
    .menu-btn {
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }
    .menu {
      display: none;
      position: absolute;
      top: 60px;
      right: 20px;
      background: #fff0f7;
      border-radius: 10px;
      padding: 15px;
    }
    .menu a {
      display: block;
      color: #e91e63;
      margin-bottom: 10px;
      text-decoration: none;
      cursor: pointer;
    }
    textarea, input[type="text"], input[type="file"] {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      border: 1px solid #ffb6c1;
      border-radius: 8px;
      font-size: 16px;
      background: #fff0f5;
    }
    button {
      margin-top: 10px;
      background-color: #e91e63;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
    }
    .entry {
      background-color: #ffe6eb;
      padding: 10px;
      margin-top: 15px;
      border-left: 5px solid #e91e63;
      border-radius: 10px;
    }
    .date {
      font-weight: bold;
      color: #c2185b;
    }
    .from {
      font-style: italic;
      margin-bottom: 5px;
      color: #ad1457;
    }
    .reactions {
      margin-top: 5px;
    }
    .reaction-btn {
      cursor: pointer;
      margin-right: 5px;
      font-size: 18px;
    }
    .delete-btn {
      background: none;
      color: red;
      border: none;
      float: right;
      font-size: 14px;
      cursor: pointer;
    }
    footer {
      text-align: center;
      padding: 10px;
      font-size: 13px;
      color: #b93a62;
    }
    #lockScreen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255, 240, 245, 0.95);
      z-index: 999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    #lockScreen input {
      font-size: 20px;
      text-align: center;
      width: 160px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #e91e63;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div id="lockScreen">
    <h2>üîê Enter 6-digit Passcode</h2>
    <input type="password" id="passcodeInput" maxlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    <button onclick="unlockDiary()">Unlock</button>
  </div>
  <header>
    <h1>Virtual Love Diary</h1>
    <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
    <div class="menu" id="menu">
      <a onclick="loadContent('letters')">üíå Letters</a>
      <a onclick="loadContent('playlist')">üéµ Playlist</a>
      <a onclick="loadContent('countdown')">üïî Countdown</a>
      <a onclick="loadContent('gallery')">üñº Gallery</a>
      <a onclick="loadContent('promises')">ü§ù Promises</a>
    </div>
  </header>
  <main id="mainContent">
    <input type="text" id="entryName" placeholder="Your name (e.g., Tol or Shermaine)">
    <textarea id="entryText" placeholder="Type your sweet diary entry here..."></textarea>
    <input type="file" id="entryImage" accept="image/*">
    <button onclick="addEntry()">Add Entry</button>
    <div id="entries"></div>
  </main>
  <footer>
    Made with üíò by You & Shermaine
  </footer>
  <script>
    const CORRECT_PASS = "312554";document.addEventListener("DOMContentLoaded", () => {
  if (sessionStorage.getItem("unlockedDiary") === "true") {
    document.getElementById("lockScreen").style.display = "none";
  }
});

function unlockDiary() {
  const code = document.getElementById("passcodeInput").value;
  if (code === CORRECT_PASS) {
    sessionStorage.setItem("unlockedDiary", "true");
    document.getElementById("lockScreen").style.display = "none";
  } else {
    alert("‚ùå Wrong passcode. Try again.");
  }
}

function toggleMenu() {
  const menu = document.getElementById("menu");
  menu.style.display = menu.style.display === "block" ? "none" : "block";
}

function addEntry() {
  const name = document.getElementById("entryName").value || "Anonymous";
  const text = document.getElementById("entryText").value.trim();
  const imageFile = document.getElementById("entryImage").files[0];
  if (!text) return;

  const reader = new FileReader();
  reader.onload = function (e) {
    const imageHTML = imageFile ? `<img src="${e.target.result}" style="max-width:100%; margin-top:10px; border-radius:10px;">` : "";
    const now = new Date().toLocaleString();
    const id = Date.now();
    const entryHTML = `
      <div class="entry" id="entry-${id}">
        <button class="delete-btn" onclick="deleteEntry('entry-${id}')">üóë</button>
        <div class="date">${now}</div>
        <div class="from">‚ù§Ô∏è From: ${name}</div>
        <p>${text}</p>
        ${imageHTML}
        <div class="reactions">
          <span class="reaction-btn" onclick="togglePicker(this)">üëç</span>
          <div class="reaction-picker" style="display:none;">
            <span onclick="react(this, '‚ù§Ô∏è')">‚ù§Ô∏è</span>
            <span onclick="react(this, 'üòç')">üòç</span>
            <span onclick="react(this, 'üò≠')">üò≠</span>
            <span onclick="react(this, '‚ú®')">‚ú®</span>
          </div>
        </div>
      </div>`;
    const container = document.getElementById("entries");
    container.insertAdjacentHTML("afterbegin", entryHTML);
    localStorage.setItem("diaryEntries", container.innerHTML);
    document.getElementById("entryName").value = "";
    document.getElementById("entryText").value = "";
    document.getElementById("entryImage").value = "";
  };
  if (imageFile) reader.readAsDataURL(imageFile);
  else reader.onload();
}

function togglePicker(el) {
  const picker = el.nextElementSibling;
  picker.style.display = picker.style.display === "block" ? "none" : "block";
}

function react(el, emoji) {
  const picker = el.parentElement;
  const btn = picker.previousElementSibling;
  btn.textContent = emoji;
  picker.style.display = "none";
}

function deleteEntry(id) {
  const entry = document.getElementById(id);
  entry.remove();
  localStorage.setItem("diaryEntries", document.getElementById("entries").innerHTML);
}

function checkReminder() {
  if (!("Notification" in window)) return;
  if (Notification.permission === "granted") {
    const last = localStorage.getItem("lastReminder") || 0;
    const now = Date.now();
    if (now - last > 4 * 60 * 60 * 1000) {
      const entryToday = localStorage.getItem("diaryEntries")?.includes(new Date().toLocaleDateString());
      if (!entryToday) {
        new Notification("üíñ Hey love, don‚Äôt forget to write in our diary today!");
        localStorage.setItem("lastReminder", now);
      }
    }
  } else if (Notification.permission !== "denied") {
    Notification.requestPermission();
  }
}

window.onload = function () {
  document.getElementById("entries").innerHTML = localStorage.getItem("diaryEntries") || "";
  setInterval(checkReminder, 60 * 60 * 1000);
  checkReminder();
};

  </script>
</body>
</html>